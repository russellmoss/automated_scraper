<!-- ============================================================
     POPUP.HTML - WORKBOOK CONFIGURATION SECTION
     Replace your existing "Input Sheet" section with this
     ============================================================ -->

<!-- SECTION: Workbook Configuration (replaces Input Sheet) -->
<section class="section" id="section-workbook">
    <div class="section-header" data-section="workbook">
        <span>ğŸ“‹ Workbook Configuration</span>
        <span class="chevron">â–¼</span>
    </div>
    <div class="section-content">
        <!-- URL Input -->
        <div class="input-group">
            <input type="text" 
                   id="workbook-url" 
                   name="workbook-url" 
                   placeholder="Google Sheets Workbook URL"
                   autocomplete="off">
            <button id="load-workbook-btn" class="btn btn-primary">Load</button>
        </div>
        
        <!-- Help Text (shown when no workbook loaded) -->
        <div id="workbook-help" class="help-text">
            <small>
                Enter the URL of your workbook containing:<br>
                â€¢ <strong>Searches</strong> tab (Source Connection | Target Job Title | LinkedIn URL)<br>
                â€¢ <strong>Mapping and Schedules</strong> tab (Name | Sheet_URL | Title | Company | Schedule info)
            </small>
        </div>
        
        <!-- Sync Status (shown when workbook loaded) -->
        <div id="sync-status-container" class="sync-status hidden">
            <!-- Header with title and actions -->
            <div class="sync-header">
                <a id="workbook-link" href="#" target="_blank" class="workbook-title" title="Open in Google Sheets"></a>
                <div class="sync-actions">
                    <button id="sync-now-btn" class="btn btn-small btn-secondary" title="Sync Now">
                        ğŸ”„
                    </button>
                    <button id="clear-workbook-btn" class="btn btn-small btn-danger" title="Disconnect Workbook">
                        âœ•
                    </button>
                </div>
            </div>
            
            <!-- Stats badges -->
            <div class="sync-stats">
                <span id="connection-count" class="stat-badge" title="Number of competitors being tracked"></span>
                <span id="search-count" class="stat-badge" title="Total LinkedIn searches configured"></span>
                <span id="schedule-count" class="stat-badge" title="Number of automated schedules"></span>
            </div>
            
            <!-- Sync status info -->
            <div class="sync-info">
                <span id="sync-status-text" class="sync-status-indicator"></span>
                <span id="last-sync-time" class="text-muted"></span>
            </div>
            
            <!-- Recent Changes (shown when changes detected) -->
            <div id="sync-changes" class="sync-changes hidden">
                <div class="changes-header">ğŸ“ Recent Changes:</div>
                <ul id="changes-list"></ul>
            </div>
            
            <!-- Unmapped Warning (shown when some connections lack mappings) -->
            <div id="unmapped-warning" class="unmapped-warning hidden">
                <div class="warning-icon">âš ï¸</div>
                <div class="warning-text">
                    <span id="unmapped-count">0</span> connection(s) missing output sheet mapping
                </div>
            </div>
        </div>
        
        <!-- Sync Settings (shown when workbook loaded) -->
        <div id="sync-settings" class="sync-settings hidden">
            <label class="setting-row">
                <span>Auto-sync every:</span>
                <select id="sync-interval-select">
                    <option value="1">1 minute</option>
                    <option value="2">2 minutes</option>
                    <option value="5" selected>5 minutes</option>
                    <option value="10">10 minutes</option>
                    <option value="15">15 minutes</option>
                    <option value="30">30 minutes</option>
                    <option value="60">1 hour</option>
                </select>
            </label>
            <div class="setting-hint">
                <small id="next-sync-time" class="text-muted"></small>
            </div>
        </div>
    </div>
</section>


<!-- ============================================================
     ALTERNATIVE: Keep both old Input Sheet AND new Workbook Config
     Use this if you want backward compatibility during transition
     ============================================================ -->
<!--
<section class="section" id="section-workbook">
    <div class="section-header" data-section="workbook">
        <span>ğŸ“‹ Workbook Configuration (New)</span>
        <span class="chevron">â–¼</span>
    </div>
    <div class="section-content">
        [... same content as above ...]
    </div>
</section>

<section class="section collapsed" id="section-input">
    <div class="section-header" data-section="input">
        <span>ğŸ“‹ Input Sheet (Legacy)</span>
        <span class="chevron">â–¼</span>
    </div>
    <div class="section-content">
        [... your existing input sheet content ...]
    </div>
</section>
-->
